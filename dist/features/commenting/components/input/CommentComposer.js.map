{"version":3,"sources":["../../../../../src/features/commenting/components/input/CommentComposer.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\n\ntype CommentComposerProps = {\n  placeholder?: string\n  submitAddComment: (content: string) => void\n}\n\n/**\n * Component for composing and submitting new comments\n */\nexport const CommentComposer: React.FC<CommentComposerProps> = ({\n  placeholder = 'Type a comment...',\n  submitAddComment,\n}) => {\n  const [content, setContent] = useState('')\n  const [canSubmit, setCanSubmit] = useState(false)\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newContent = e.target.value\n    setContent(newContent)\n    setCanSubmit(newContent.trim().length > 0)\n  }\n\n  const handleSubmit = () => {\n    if (canSubmit) {\n      submitAddComment(content)\n      setContent('')\n      setCanSubmit(false)\n    }\n  }\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey) && canSubmit) {\n      e.preventDefault()\n      handleSubmit()\n    }\n  }\n\n  return (\n    <div className=\"CommentPlugin_CommentsPanel_Composer\">\n      <textarea\n        className=\"CommentPlugin_CommentsPanel_Editor\"\n        onChange={handleInputChange}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n        value={content}\n      />\n      <button\n        aria-label=\"Send comment\"\n        className=\"CommentPlugin_CommentsPanel_SendButton\"\n        disabled={!canSubmit}\n        onClick={handleSubmit}\n      >\n        <i className=\"send\" />\n      </button>\n    </div>\n  )\n}\n"],"names":["React","useState","CommentComposer","placeholder","submitAddComment","content","setContent","canSubmit","setCanSubmit","handleInputChange","e","newContent","target","value","trim","length","handleSubmit","handleKeyDown","key","ctrlKey","metaKey","preventDefault","div","className","textarea","onChange","onKeyDown","button","aria-label","disabled","onClick","i"],"mappings":"AAAA;;AAEA,OAAOA,SAASC,QAAQ,QAAQ,QAAO;AAOvC;;CAEC,GACD,OAAO,MAAMC,kBAAkD,CAAC,EAC9DC,cAAc,mBAAmB,EACjCC,gBAAgB,EACjB;IACC,MAAM,CAACC,SAASC,WAAW,GAAGL,SAAS;IACvC,MAAM,CAACM,WAAWC,aAAa,GAAGP,SAAS;IAE3C,MAAMQ,oBAAoB,CAACC;QACzB,MAAMC,aAAaD,EAAEE,MAAM,CAACC,KAAK;QACjCP,WAAWK;QACXH,aAAaG,WAAWG,IAAI,GAAGC,MAAM,GAAG;IAC1C;IAEA,MAAMC,eAAe;QACnB,IAAIT,WAAW;YACbH,iBAAiBC;YACjBC,WAAW;YACXE,aAAa;QACf;IACF;IAEA,MAAMS,gBAAgB,CAACP;QACrB,IAAIA,EAAEQ,GAAG,KAAK,WAAYR,CAAAA,EAAES,OAAO,IAAIT,EAAEU,OAAO,AAAD,KAAMb,WAAW;YAC9DG,EAAEW,cAAc;YAChBL;QACF;IACF;IAEA,qBACE,MAACM;QAAIC,WAAU;;0BACb,KAACC;gBACCD,WAAU;gBACVE,UAAUhB;gBACViB,WAAWT;gBACXd,aAAaA;gBACbU,OAAOR;;0BAET,KAACsB;gBACCC,cAAW;gBACXL,WAAU;gBACVM,UAAU,CAACtB;gBACXuB,SAASd;0BAET,cAAA,KAACe;oBAAER,WAAU;;;;;AAIrB,EAAC"}