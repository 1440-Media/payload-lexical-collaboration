{"version":3,"sources":["../../../../../src/features/commenting/components/display/ThreadItem.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\nimport type { Thread } from '../../types/core.js'\n\nimport { CommentComposer } from '../input/CommentComposer.js'\nimport { CommentItem } from './CommentItem.js'\n\ntype ThreadItemProps = {\n  isActive: boolean\n  isInteractive: boolean\n  onDeleteComment: (commentId: string, thread: Thread) => void\n  onDeleteThread: (thread: Thread) => void\n  onResolveThread: () => void\n  onSubmitReply: (content: string, thread: Thread) => void\n  thread: Thread\n}\n\n/**\n * Component for rendering a thread with its comments and reply composer\n */\nexport const ThreadItem: React.FC<ThreadItemProps> = ({\n  isActive,\n  isInteractive,\n  onDeleteComment,\n  onDeleteThread,\n  onResolveThread,\n  onSubmitReply,\n  thread,\n}) => {\n  const isResolved = thread.resolved || false\n\n  return (\n    <li\n      className={`CommentPlugin_CommentsPanel_List_Thread ${\n        isInteractive ? 'interactive' : ''\n      } ${isActive ? 'active' : ''} ${isResolved ? 'resolved' : ''}`}\n    >\n      <div className=\"CommentPlugin_CommentsPanel_List_Thread_QuoteBox\">\n        <blockquote className=\"CommentPlugin_CommentsPanel_List_Thread_Quote\">\n          {'> '}\n          <span>{thread.quote}</span>\n        </blockquote>\n        <button\n          aria-label={isResolved ? 'Unresolve thread' : 'Resolve thread'}\n          className=\"CommentPlugin_CommentsPanel_List_ResolveButton\"\n          onClick={onResolveThread}\n          title={isResolved ? 'Unresolve thread' : 'Resolve thread'}\n          type=\"button\"\n        >\n          <i className={isResolved ? 'unresolve' : 'resolve'} />\n        </button>\n        {!isResolved && (\n          <button\n            aria-label=\"Delete thread\"\n            className=\"CommentPlugin_CommentsPanel_List_DeleteButton\"\n            onClick={() => onDeleteThread(thread)}\n            type=\"button\"\n          >\n            <i className=\"delete\" />\n          </button>\n        )}\n      </div>\n      <ul className=\"CommentPlugin_CommentsPanel_List_Thread_Comments\">\n        {thread.comments.map((comment) => (\n          <CommentItem\n            comment={comment}\n            key={comment.id}\n            onDelete={\n              !comment.deleted && !isResolved\n                ? () => onDeleteComment(comment.id, thread)\n                : undefined\n            }\n          />\n        ))}\n      </ul>\n      {!isResolved && (\n        <div className=\"CommentPlugin_CommentsPanel_List_Thread_Editor\">\n          <CommentComposer\n            placeholder=\"Reply to comment...\"\n            submitAddComment={(content) => onSubmitReply(content, thread)}\n          />\n        </div>\n      )}\n    </li>\n  )\n}\n"],"names":["React","CommentComposer","CommentItem","ThreadItem","isActive","isInteractive","onDeleteComment","onDeleteThread","onResolveThread","onSubmitReply","thread","isResolved","resolved","li","className","div","blockquote","span","quote","button","aria-label","onClick","title","type","i","ul","comments","map","comment","onDelete","deleted","id","undefined","placeholder","submitAddComment","content"],"mappings":"AAAA;;AAEA,OAAOA,WAAW,QAAO;AAIzB,SAASC,eAAe,QAAQ,8BAA6B;AAC7D,SAASC,WAAW,QAAQ,mBAAkB;AAY9C;;CAEC,GACD,OAAO,MAAMC,aAAwC,CAAC,EACpDC,QAAQ,EACRC,aAAa,EACbC,eAAe,EACfC,cAAc,EACdC,eAAe,EACfC,aAAa,EACbC,MAAM,EACP;IACC,MAAMC,aAAaD,OAAOE,QAAQ,IAAI;IAEtC,qBACE,MAACC;QACCC,WAAW,CAAC,wCAAwC,EAClDT,gBAAgB,gBAAgB,GACjC,CAAC,EAAED,WAAW,WAAW,GAAG,CAAC,EAAEO,aAAa,aAAa,IAAI;;0BAE9D,MAACI;gBAAID,WAAU;;kCACb,MAACE;wBAAWF,WAAU;;4BACnB;0CACD,KAACG;0CAAMP,OAAOQ,KAAK;;;;kCAErB,KAACC;wBACCC,cAAYT,aAAa,qBAAqB;wBAC9CG,WAAU;wBACVO,SAASb;wBACTc,OAAOX,aAAa,qBAAqB;wBACzCY,MAAK;kCAEL,cAAA,KAACC;4BAAEV,WAAWH,aAAa,cAAc;;;oBAE1C,CAACA,4BACA,KAACQ;wBACCC,cAAW;wBACXN,WAAU;wBACVO,SAAS,IAAMd,eAAeG;wBAC9Ba,MAAK;kCAEL,cAAA,KAACC;4BAAEV,WAAU;;;;;0BAInB,KAACW;gBAAGX,WAAU;0BACXJ,OAAOgB,QAAQ,CAACC,GAAG,CAAC,CAACC,wBACpB,KAAC1B;wBACC0B,SAASA;wBAETC,UACE,CAACD,QAAQE,OAAO,IAAI,CAACnB,aACjB,IAAML,gBAAgBsB,QAAQG,EAAE,EAAErB,UAClCsB;uBAJDJ,QAAQG,EAAE;;YASpB,CAACpB,4BACA,KAACI;gBAAID,WAAU;0BACb,cAAA,KAACb;oBACCgC,aAAY;oBACZC,kBAAkB,CAACC,UAAY1B,cAAc0B,SAASzB;;;;;AAMlE,EAAC"}