{"version":3,"sources":["../../../../../src/features/commenting/components/ui/CommentMarkStyles.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\n\nimport './CommentMarks.css'\nimport './DisabledCommentMarks.css'\n\n/**\n * CommentMarkStyles component\n * \n * This component conditionally applies the appropriate CSS class for comment marks\n * based on whether the plugin is enabled or disabled.\n * \n * When enabled, it adds the 'comments-enabled' class to the document body.\n * When disabled, it adds the 'comments-disabled' class to the document body.\n */\nexport const CommentMarkStyles: React.FC<{ enabled: boolean }> = ({ enabled }) => {\n  // Apply classes immediately on mount and when enabled changes\n  React.useEffect(() => {\n    // Function to apply classes\n    const applyClasses = () => {\n      if (typeof document !== 'undefined') {\n        if (enabled) {\n          document.body.classList.add('comments-enabled')\n          document.body.classList.remove('comments-disabled')\n          console.log('Comment marks enabled - applied comments-enabled class')\n        } else {\n          document.body.classList.add('comments-disabled')\n          document.body.classList.remove('comments-enabled')\n          console.log('Comment marks disabled - applied comments-disabled class')\n        }\n      }\n    }\n\n    // Apply classes immediately\n    applyClasses()\n\n    // Also apply after a short delay to ensure DOM is fully loaded\n    const timeoutId = setTimeout(applyClasses, 100)\n\n    // Cleanup function\n    return () => {\n      clearTimeout(timeoutId)\n      if (typeof document !== 'undefined') {\n        document.body.classList.remove('comments-enabled')\n        document.body.classList.remove('comments-disabled')\n      }\n    }\n  }, [enabled])\n\n  // Create a style element with direct CSS overrides\n  React.useEffect(() => {\n    if (typeof document === 'undefined') {return;}\n\n    // Create a style element\n    const styleElement = document.createElement('style');\n    styleElement.id = 'comment-marks-override-styles';\n    \n    // Add the CSS content\n    if (!enabled) {\n      styleElement.textContent = `\n        /* Direct override for disabled comment marks - with highest specificity */\n        [data-lexical-mark],\n        span[data-lexical-mark],\n        .editor-container [data-lexical-mark],\n        .editor-container span[data-lexical-mark],\n        div.editor-container [data-lexical-mark],\n        div.editor-container span[data-lexical-mark],\n        [data-lexical-editor] [data-lexical-mark],\n        [data-lexical-editor] span[data-lexical-mark],\n        *[data-lexical-mark],\n        * [data-lexical-mark] {\n          background-color: transparent !important;\n          background: none !important;\n          cursor: default !important;\n          border: none !important;\n          box-shadow: none !important;\n          text-decoration: none !important;\n          color: inherit !important;\n          border-bottom: none !important;\n          border-top: none !important;\n          border-left: none !important;\n          border-right: none !important;\n          outline: none !important;\n          text-shadow: none !important;\n          -webkit-text-decoration: none !important;\n          -moz-text-decoration: none !important;\n          text-decoration-line: none !important;\n          text-decoration-style: none !important;\n          text-decoration-color: transparent !important;\n          text-decoration-thickness: 0 !important;\n          text-underline-offset: 0 !important;\n          text-decoration-skip-ink: all !important;\n          text-emphasis: none !important;\n          -webkit-text-emphasis: none !important;\n        }\n        \n        /* Target mark elements directly */\n        mark,\n        span.mark,\n        .editor-container mark,\n        [data-lexical-editor] mark,\n        * mark,\n        *[class*=\"mark\"],\n        *[class*=\"comment\"] {\n          background-color: transparent !important;\n          background: none !important;\n          color: inherit !important;\n          border-bottom: none !important;\n          border-top: none !important;\n          border-left: none !important;\n          border-right: none !important;\n          outline: none !important;\n          text-shadow: none !important;\n          -webkit-text-decoration: none !important;\n          -moz-text-decoration: none !important;\n          text-decoration-line: none !important;\n          text-decoration-style: none !important;\n          text-decoration-color: transparent !important;\n          text-decoration-thickness: 0 !important;\n          text-underline-offset: 0 !important;\n          text-decoration-skip-ink: all !important;\n          text-emphasis: none !important;\n          -webkit-text-emphasis: none !important;\n        }\n      `;\n    }\n    \n    // Add the style element to the head\n    document.head.appendChild(styleElement);\n    \n    // Cleanup function\n    return () => {\n      const existingStyle = document.getElementById('comment-marks-override-styles');\n      if (existingStyle) {\n        existingStyle.remove();\n      }\n    };\n  }, [enabled]);\n\n  return null\n}\n"],"names":["React","CommentMarkStyles","enabled","useEffect","applyClasses","document","body","classList","add","remove","console","log","timeoutId","setTimeout","clearTimeout","styleElement","createElement","id","textContent","head","appendChild","existingStyle","getElementById"],"mappings":"AAAA;AAEA,OAAOA,WAAW,QAAO;AAEzB,OAAO,qBAAoB;AAC3B,OAAO,6BAA4B;AAEnC;;;;;;;;CAQC,GACD,OAAO,MAAMC,oBAAoD,CAAC,EAAEC,OAAO,EAAE;IAC3E,8DAA8D;IAC9DF,MAAMG,SAAS,CAAC;QACd,4BAA4B;QAC5B,MAAMC,eAAe;YACnB,IAAI,OAAOC,aAAa,aAAa;gBACnC,IAAIH,SAAS;oBACXG,SAASC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC;oBAC5BH,SAASC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC;oBAC/BC,QAAQC,GAAG,CAAC;gBACd,OAAO;oBACLN,SAASC,IAAI,CAACC,SAAS,CAACC,GAAG,CAAC;oBAC5BH,SAASC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC;oBAC/BC,QAAQC,GAAG,CAAC;gBACd;YACF;QACF;QAEA,4BAA4B;QAC5BP;QAEA,+DAA+D;QAC/D,MAAMQ,YAAYC,WAAWT,cAAc;QAE3C,mBAAmB;QACnB,OAAO;YACLU,aAAaF;YACb,IAAI,OAAOP,aAAa,aAAa;gBACnCA,SAASC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC;gBAC/BJ,SAASC,IAAI,CAACC,SAAS,CAACE,MAAM,CAAC;YACjC;QACF;IACF,GAAG;QAACP;KAAQ;IAEZ,mDAAmD;IACnDF,MAAMG,SAAS,CAAC;QACd,IAAI,OAAOE,aAAa,aAAa;YAAC;QAAO;QAE7C,yBAAyB;QACzB,MAAMU,eAAeV,SAASW,aAAa,CAAC;QAC5CD,aAAaE,EAAE,GAAG;QAElB,sBAAsB;QACtB,IAAI,CAACf,SAAS;YACZa,aAAaG,WAAW,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAiE5B,CAAC;QACH;QAEA,oCAAoC;QACpCb,SAASc,IAAI,CAACC,WAAW,CAACL;QAE1B,mBAAmB;QACnB,OAAO;YACL,MAAMM,gBAAgBhB,SAASiB,cAAc,CAAC;YAC9C,IAAID,eAAe;gBACjBA,cAAcZ,MAAM;YACtB;QACF;IACF,GAAG;QAACP;KAAQ;IAEZ,OAAO;AACT,EAAC"}