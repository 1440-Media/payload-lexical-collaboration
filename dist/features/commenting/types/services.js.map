{"version":3,"sources":["../../../../src/features/commenting/types/services.ts"],"sourcesContent":["/**\n * Service interface types for the commenting feature\n */\n\nimport type { LexicalEditor, RangeSelection } from '@payloadcms/richtext-lexical/lexical'\n\nimport type { CommentStore } from '../store.js'\nimport type { Comment, CommentDeletionResult, Comments, MarkNodeMapType, Thread } from './core.js'\n\n/**\n * Interface for the CommentService\n */\nexport interface ICommentService {\n  /**\n   * Delete all comments for a document\n   */\n  deleteAllComments(documentId: string): Promise<boolean>\n  \n  /**\n   * Find a user by email\n   */\n  findUserByEmail(email: string): Promise<null | string>\n  \n  /**\n   * Load comments for a document\n   */\n  loadComments(documentId: string): Promise<Comments>\n\n  /**\n   * Resolve a thread\n   */\n  resolveThread(threadId: string): Promise<boolean>\n\n  /**\n   * Save a comment or thread\n   */\n  saveComment(\n    commentOrThread: Comment | Thread,\n    thread?: Thread,\n    documentId?: string\n  ): Promise<boolean>\n\n  /**\n   * Unresolve a thread\n   */\n  unresolveThread(threadId: string): Promise<boolean>\n}\n\n/**\n * Interface for the DocumentService\n */\nexport interface IDocumentService {\n  /**\n   * Check if a document exists\n   */\n  checkIfDocumentExists(documentId: string): Promise<boolean>\n  \n  /**\n   * Detect the rich text field name in a document\n   */\n  detectRichTextField(collection: string, docId: string): Promise<string>\n  \n  /**\n   * Save the document content\n   */\n  saveDocument(editor: LexicalEditor, documentId: string): Promise<boolean>\n}\n\n/**\n * Interface for the CommentOperations service\n */\nexport interface ICommentOperations {\n  /**\n   * Delete all comments for the current document\n   */\n  deleteAllComments(\n    commentStore: CommentStore,\n    editor: LexicalEditor,\n    markNodeMap: MarkNodeMapType,\n    saveDocumentCallback?: () => Promise<boolean | void>\n  ): Promise<boolean>\n  \n  /**\n   * Delete a comment or thread\n   */\n  deleteCommentOrThread(\n    commentStore: CommentStore,\n    editor: LexicalEditor,\n    markNodeMap: MarkNodeMapType,\n    comment: Comment | Thread,\n    thread?: Thread,\n    saveDocumentCallback?: () => Promise<boolean | void>\n  ): Promise<CommentDeletionResult | null>\n\n  /**\n   * Resolve or unresolve a thread\n   */\n  resolveThread(\n    commentStore: CommentStore,\n    editor: LexicalEditor,\n    markNodeMap: MarkNodeMapType,\n    thread: Thread,\n    resolved: boolean,\n  ): Promise<boolean>\n\n  /**\n   * Submit a new comment\n   */\n  submitAddComment(\n    commentStore: CommentStore,\n    editor: LexicalEditor,\n    commentOrThread: Comment | Thread,\n    isInlineComment: boolean,\n    thread?: Thread,\n    selection?: null | RangeSelection,\n    saveDocumentCallback?: () => Promise<boolean | void>\n  ): Promise<void>\n}\n"],"names":[],"mappings":"AAAA;;CAEC,GAkED;;CAEC,GACD,WA8CC"}