{"version":3,"sources":["../../../../src/features/commenting/utils/time.ts"],"sourcesContent":["/**\n * Utility functions for time formatting\n */\n\n// Create a RelativeTimeFormat instance for formatting relative times\nconst rtf = new Intl.RelativeTimeFormat('en', {\n  localeMatcher: 'best fit',\n  numeric: 'auto',\n  style: 'short',\n})\n\n/**\n * Format a timestamp as a relative time string with appropriate time units\n * (e.g., \"Just now\", \"5 min ago\", \"2 hr ago\", \"3 days ago\", \"2 mo ago\", \"1 yr ago\")\n */\nexport const formatTimeAgo = (timestamp: number): string => {\n  const now = performance.timeOrigin + performance.now();\n  const diffInMs = now - timestamp;\n  \n  // Convert to seconds (negative because the timestamp is in the past)\n  const seconds = Math.round(diffInMs / 1000);\n  \n  // Just now for very recent comments\n  if (seconds < 10) {return 'Just now';}\n  \n  // Less than a minute\n  if (seconds < 60) {return rtf.format(-seconds, 'second');}\n  \n  // Less than an hour\n  const minutes = Math.round(seconds / 60);\n  if (minutes < 60) {return rtf.format(-minutes, 'minute');}\n  \n  // Less than a day\n  const hours = Math.round(minutes / 60);\n  if (hours < 24) {return rtf.format(-hours, 'hour');}\n  \n  // Less than a month (approx)\n  const days = Math.round(hours / 24);\n  if (days < 30) {return rtf.format(-days, 'day');}\n  \n  // Less than a year\n  const months = Math.round(days / 30);\n  if (months < 12) {return rtf.format(-months, 'month');}\n  \n  // Years\n  const years = Math.round(months / 12);\n  return rtf.format(-years, 'year');\n}\n\n/**\n * Custom hook for periodically updating time displays\n * This could be implemented if we want to use React hooks\n * instead of the current counter approach\n */\n"],"names":["rtf","Intl","RelativeTimeFormat","localeMatcher","numeric","style","formatTimeAgo","timestamp","now","performance","timeOrigin","diffInMs","seconds","Math","round","format","minutes","hours","days","months","years"],"mappings":"AAAA;;CAEC,GAED,qEAAqE;AACrE,MAAMA,MAAM,IAAIC,KAAKC,kBAAkB,CAAC,MAAM;IAC5CC,eAAe;IACfC,SAAS;IACTC,OAAO;AACT;AAEA;;;CAGC,GACD,OAAO,MAAMC,gBAAgB,CAACC;IAC5B,MAAMC,MAAMC,YAAYC,UAAU,GAAGD,YAAYD,GAAG;IACpD,MAAMG,WAAWH,MAAMD;IAEvB,qEAAqE;IACrE,MAAMK,UAAUC,KAAKC,KAAK,CAACH,WAAW;IAEtC,oCAAoC;IACpC,IAAIC,UAAU,IAAI;QAAC,OAAO;IAAW;IAErC,qBAAqB;IACrB,IAAIA,UAAU,IAAI;QAAC,OAAOZ,IAAIe,MAAM,CAAC,CAACH,SAAS;IAAU;IAEzD,oBAAoB;IACpB,MAAMI,UAAUH,KAAKC,KAAK,CAACF,UAAU;IACrC,IAAII,UAAU,IAAI;QAAC,OAAOhB,IAAIe,MAAM,CAAC,CAACC,SAAS;IAAU;IAEzD,kBAAkB;IAClB,MAAMC,QAAQJ,KAAKC,KAAK,CAACE,UAAU;IACnC,IAAIC,QAAQ,IAAI;QAAC,OAAOjB,IAAIe,MAAM,CAAC,CAACE,OAAO;IAAQ;IAEnD,6BAA6B;IAC7B,MAAMC,OAAOL,KAAKC,KAAK,CAACG,QAAQ;IAChC,IAAIC,OAAO,IAAI;QAAC,OAAOlB,IAAIe,MAAM,CAAC,CAACG,MAAM;IAAO;IAEhD,mBAAmB;IACnB,MAAMC,SAASN,KAAKC,KAAK,CAACI,OAAO;IACjC,IAAIC,SAAS,IAAI;QAAC,OAAOnB,IAAIe,MAAM,CAAC,CAACI,QAAQ;IAAS;IAEtD,QAAQ;IACR,MAAMC,QAAQP,KAAKC,KAAK,CAACK,SAAS;IAClC,OAAOnB,IAAIe,MAAM,CAAC,CAACK,OAAO;AAC5B,EAEA;;;;CAIC,IANA"}