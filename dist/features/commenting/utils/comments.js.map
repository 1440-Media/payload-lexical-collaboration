{"version":3,"sources":["../../../../src/features/commenting/utils/comments.ts"],"sourcesContent":["'use client'\n\nimport type { ErrorResponse } from '../types/api.js'\nimport type { Comment, Thread } from '../types/core.js'\n\nimport { APIUtils } from './api.js'\n\n/**\n * Checks if a comment already exists in a thread\n * @param thread The thread to check\n * @param comment The comment to check for\n * @returns True if the comment already exists in the thread, false otherwise\n */\nexport function isCommentDuplicateInThread(thread: Thread, comment: Comment): boolean {\n  return thread.comments.some(c => c.id === comment.id)\n}\n\n/**\n * Checks if a thread already exists in a list of comments\n * @param comments The list of comments to check\n * @param thread The thread to check for\n * @returns True if the thread already exists, false otherwise\n */\nexport function isThreadDuplicate(comments: (Comment | Thread)[], thread: Thread): boolean {\n  return comments.some(c => \n    c.type === 'thread' && c.id === thread.id\n  )\n}\n\n/**\n * Creates a standard error response object\n * @param message The error message\n * @param details Additional error details\n * @returns A standardized error object\n * @deprecated Use APIUtils.createErrorResponse instead\n */\nexport function createErrorResponse(message: string, details?: Record<string, unknown>): ErrorResponse {\n  return APIUtils.createErrorResponse(message, details)\n}\n"],"names":["APIUtils","isCommentDuplicateInThread","thread","comment","comments","some","c","id","isThreadDuplicate","type","createErrorResponse","message","details"],"mappings":"AAAA;AAKA,SAASA,QAAQ,QAAQ,WAAU;AAEnC;;;;;CAKC,GACD,OAAO,SAASC,2BAA2BC,MAAc,EAAEC,OAAgB;IACzE,OAAOD,OAAOE,QAAQ,CAACC,IAAI,CAACC,CAAAA,IAAKA,EAAEC,EAAE,KAAKJ,QAAQI,EAAE;AACtD;AAEA;;;;;CAKC,GACD,OAAO,SAASC,kBAAkBJ,QAA8B,EAAEF,MAAc;IAC9E,OAAOE,SAASC,IAAI,CAACC,CAAAA,IACnBA,EAAEG,IAAI,KAAK,YAAYH,EAAEC,EAAE,KAAKL,OAAOK,EAAE;AAE7C;AAEA;;;;;;CAMC,GACD,OAAO,SAASG,oBAAoBC,OAAe,EAAEC,OAAiC;IACpF,OAAOZ,SAASU,mBAAmB,CAACC,SAASC;AAC/C"}