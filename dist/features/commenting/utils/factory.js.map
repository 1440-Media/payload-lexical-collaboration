{"version":3,"sources":["../../../../src/features/commenting/utils/factory.ts"],"sourcesContent":["'use client'\n\nimport type { Comment, Thread } from '../types/core.js'\n\nimport { createUID } from './id.js'\n\n/**\n * Creates a comment object with the given properties\n */\nexport function createComment(\n  content: string,\n  author: string,\n  id?: string,\n  timeStamp?: number,\n  deleted?: boolean,\n): Comment {\n  return {\n    id: id === undefined ? createUID() : id,\n    type: 'comment',\n    author,\n    content,\n    deleted: deleted === undefined ? false : deleted,\n    timeStamp:\n      timeStamp === undefined\n        ? performance.timeOrigin + performance.now()\n        : timeStamp,\n  }\n}\n\n/**\n * Creates a thread object with the given properties\n */\nexport function createThread(\n  quote: string,\n  comments: Array<Comment>,\n  id?: string,\n  resolved?: boolean,\n): Thread {\n  return {\n    id: id === undefined ? createUID() : id,\n    type: 'thread',\n    comments,\n    quote,\n    resolved,\n  }\n}\n\n/**\n * Creates a clone of a thread with a new array of comments\n */\nexport function cloneThread(thread: Thread): Thread {\n  return {\n    id: thread.id,\n    type: 'thread',\n    comments: Array.from(thread.comments),\n    quote: thread.quote,\n    resolved: thread.resolved,\n  }\n}\n\n/**\n * Creates a new comment marked as deleted\n */\nexport function markDeleted(comment: Comment): Comment {\n  return {\n    id: comment.id,\n    type: 'comment',\n    author: comment.author,\n    content: '[Deleted Comment]',\n    deleted: true,\n    timeStamp: comment.timeStamp,\n  }\n}\n"],"names":["createUID","createComment","content","author","id","timeStamp","deleted","undefined","type","performance","timeOrigin","now","createThread","quote","comments","resolved","cloneThread","thread","Array","from","markDeleted","comment"],"mappings":"AAAA;AAIA,SAASA,SAAS,QAAQ,UAAS;AAEnC;;CAEC,GACD,OAAO,SAASC,cACdC,OAAe,EACfC,MAAc,EACdC,EAAW,EACXC,SAAkB,EAClBC,OAAiB;IAEjB,OAAO;QACLF,IAAIA,OAAOG,YAAYP,cAAcI;QACrCI,MAAM;QACNL;QACAD;QACAI,SAASA,YAAYC,YAAY,QAAQD;QACzCD,WACEA,cAAcE,YACVE,YAAYC,UAAU,GAAGD,YAAYE,GAAG,KACxCN;IACR;AACF;AAEA;;CAEC,GACD,OAAO,SAASO,aACdC,KAAa,EACbC,QAAwB,EACxBV,EAAW,EACXW,QAAkB;IAElB,OAAO;QACLX,IAAIA,OAAOG,YAAYP,cAAcI;QACrCI,MAAM;QACNM;QACAD;QACAE;IACF;AACF;AAEA;;CAEC,GACD,OAAO,SAASC,YAAYC,MAAc;IACxC,OAAO;QACLb,IAAIa,OAAOb,EAAE;QACbI,MAAM;QACNM,UAAUI,MAAMC,IAAI,CAACF,OAAOH,QAAQ;QACpCD,OAAOI,OAAOJ,KAAK;QACnBE,UAAUE,OAAOF,QAAQ;IAC3B;AACF;AAEA;;CAEC,GACD,OAAO,SAASK,YAAYC,OAAgB;IAC1C,OAAO;QACLjB,IAAIiB,QAAQjB,EAAE;QACdI,MAAM;QACNL,QAAQkB,QAAQlB,MAAM;QACtBD,SAAS;QACTI,SAAS;QACTD,WAAWgB,QAAQhB,SAAS;IAC9B;AACF"}